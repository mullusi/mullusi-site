<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIRECAI Production System - Complete Smart Video Platform</title>
    <style>
        :root {
            --primary: #4ecdc4;
            --secondary: #45b7d1;
            --accent: #ff6b6b;
            --warning: #ffa726;
            --bg-dark: #0a0a12;
            --bg-panel: rgba(26, 26, 38, 0.95);
            --border: rgba(255,255,255,0.1);
            --text: #e0e0e0;
            --text-dim: #888;
            --glass: rgba(255,255,255,0.05);
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0a0a12 0%, #1a1a2e 50%, #16213e 100%);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           APP LAYOUT
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .app-container {
            display: grid;
            grid-template-rows: auto 1fr auto;
            height: 100vh;
            max-width: 1600px;
            margin: 0 auto;
        }
        
        /* Header */
        .header {
            background: var(--bg-panel);
            border-bottom: 1px solid var(--border);
            padding: 0.75rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .logo-icon { font-size: 1.5rem; }
        
        .logo-text {
            font-size: 1.4rem;
            font-weight: 800;
            background: linear-gradient(90deg, var(--accent), var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .mode-tabs {
            display: flex;
            background: rgba(0,0,0,0.3);
            border-radius: 25px;
            padding: 4px;
        }
        
        .mode-tab {
            background: transparent;
            border: none;
            color: var(--text-dim);
            padding: 0.6rem 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .mode-tab.active {
            background: var(--primary);
            color: #000;
        }
        
        .mode-tab:hover:not(.active) {
            background: rgba(255,255,255,0.1);
            color: var(--text);
        }
        
        .profile-selector {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }
        
        .profile-btn {
            background: var(--glass);
            border: 1px solid var(--border);
            color: var(--text-dim);
            padding: 0.4rem 0.8rem;
            border-radius: 15px;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .profile-btn.active {
            background: var(--secondary);
            color: #000;
            border-color: var(--secondary);
        }
        
        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 450px;
            gap: 1rem;
            padding: 1rem;
            overflow: hidden;
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           LEFT PANEL - VIDEO VIEWPORT
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .left-panel {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .video-viewport {
            background: #000;
            border-radius: 16px;
            position: relative;
            flex: 1;
            min-height: 400px;
            overflow: hidden;
            border: 2px solid var(--border);
        }
        
        .video-viewport.recording {
            border-color: var(--accent);
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.3);
        }
        
        #cameraPreview, #videoPlayer {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 14px;
        }
        
        .video-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            gap: 1rem;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
        }
        
        .video-placeholder .icon { font-size: 4rem; }
        
        /* AI Detection Overlay */
        .ai-overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            pointer-events: none;
        }
        
        .detected-box {
            position: absolute;
            border: 2px solid var(--primary);
            border-radius: 4px;
            background: rgba(78, 205, 196, 0.1);
            pointer-events: all;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .detected-box:hover {
            background: rgba(78, 205, 196, 0.3);
            border-width: 3px;
        }
        
        .detected-label {
            position: absolute;
            top: -24px;
            left: 0;
            background: var(--primary);
            color: #000;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            white-space: nowrap;
        }
        
        /* Status Badges */
        .viewport-badges {
            position: absolute;
            top: 12px;
            right: 12px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .badge {
            background: rgba(0,0,0,0.8);
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
            backdrop-filter: blur(10px);
        }
        
        .badge.emotion { border-left: 3px solid var(--warning); }
        .badge.bio { border-left: 3px solid var(--accent); }
        .badge.geo { border-left: 3px solid var(--secondary); }
        
        /* Recording Indicator */
        .recording-indicator {
            position: absolute;
            top: 12px;
            left: 12px;
            background: var(--accent);
            color: #fff;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            display: none;
            align-items: center;
            gap: 8px;
            animation: pulse 1s infinite;
        }
        
        .recording-indicator.active { display: flex; }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .rec-dot {
            width: 10px;
            height: 10px;
            background: #fff;
            border-radius: 50%;
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SENSOR PANEL
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .sensor-panel {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 0.75rem;
        }
        
        .sensor-card {
            background: var(--bg-panel);
            border-radius: 12px;
            padding: 1rem;
            text-align: center;
            border: 1px solid var(--border);
            transition: all 0.3s;
        }
        
        .sensor-card.active {
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(78, 205, 196, 0.2);
        }
        
        .sensor-icon { font-size: 1.3rem; margin-bottom: 0.25rem; }
        .sensor-value { font-size: 1.4rem; font-weight: 700; color: var(--primary); }
        .sensor-label { font-size: 0.7rem; color: var(--text-dim); margin-top: 2px; }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CONTROLS BAR
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .controls-bar {
            background: var(--bg-panel);
            border-radius: 12px;
            padding: 1rem;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            border: 1px solid var(--border);
        }
        
        .ctrl-btn {
            background: rgba(255,255,255,0.1);
            border: 1px solid var(--border);
            color: var(--text);
            padding: 0.75rem 1.25rem;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .ctrl-btn:hover { background: rgba(255,255,255,0.2); }
        
        .ctrl-btn.primary {
            background: var(--primary);
            color: #000;
            border-color: var(--primary);
        }
        
        .ctrl-btn.record {
            background: var(--accent);
            color: #fff;
            border-color: var(--accent);
            width: 70px;
            height: 70px;
            border-radius: 50%;
            padding: 0;
            font-size: 1.5rem;
            box-shadow: 0 4px 20px rgba(255, 107, 107, 0.3);
        }
        
        .ctrl-btn.record.active {
            background: var(--primary);
            animation: record-pulse 1s infinite;
        }
        
        @keyframes record-pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(78, 205, 196, 0.4); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 15px rgba(78, 205, 196, 0); }
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RIGHT PANEL - ORBITAL TIMELINE & MIRROR LLM
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .right-panel {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        /* Orbital Timeline Container */
        .orbital-container {
            background: var(--bg-panel);
            border-radius: 16px;
            padding: 1.25rem;
            border: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .orbital-title {
            font-size: 0.85rem;
            color: var(--text-dim);
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ORBITAL TIMELINE WHEEL - Core Innovation
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .orbital-wheel {
            width: 380px;
            height: 380px;
            position: relative;
            cursor: grab;
        }
        
        .orbital-wheel:active { cursor: grabbing; }
        
        /* Rings */
        .orbital-ring {
            position: absolute;
            border-radius: 50%;
        }
        
        /* Outer Time Ring */
        .time-ring {
            top: 0; left: 0; right: 0; bottom: 0;
            border: 10px solid rgba(255,255,255,0.1);
        }
        
        .time-progress {
            position: absolute;
            top: -5px; left: -5px;
            width: calc(100% + 10px);
            height: calc(100% + 10px);
            border-radius: 50%;
            border: 5px solid transparent;
            border-top-color: var(--primary);
            border-right-color: var(--primary);
            transform: rotate(-90deg);
            transition: transform 0.1s;
        }
        
        /* Emotion Pulse Ring */
        .emotion-ring {
            top: 25px; left: 25px; right: 25px; bottom: 25px;
            border: 8px solid transparent;
            background: conic-gradient(
                from 0deg,
                var(--accent) 0deg 45deg,
                var(--warning) 45deg 90deg,
                #f97316 90deg 135deg,
                var(--primary) 135deg 180deg,
                var(--secondary) 180deg 225deg,
                #8b5cf6 225deg 270deg,
                #ec4899 270deg 315deg,
                var(--accent) 315deg 360deg
            );
            opacity: 0.5;
            animation: emotion-rotate 15s linear infinite;
        }
        
        @keyframes emotion-rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Layer Ring */
        .layer-ring {
            top: 55px; left: 55px; right: 55px; bottom: 55px;
            border: 2px dashed rgba(255,255,255,0.2);
        }
        
        /* Biometric Ring */
        .bio-ring {
            top: 80px; left: 80px; right: 80px; bottom: 80px;
            border: 4px solid rgba(255, 107, 107, 0.3);
            animation: bio-pulse 2s ease-in-out infinite;
        }
        
        @keyframes bio-pulse {
            0%, 100% { transform: scale(1); opacity: 0.3; }
            50% { transform: scale(1.02); opacity: 0.6; }
        }
        
        /* Center Core */
        .center-core {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 130px;
            height: 130px;
            background: radial-gradient(circle, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 0 40px rgba(78, 205, 196, 0.4);
            z-index: 10;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .center-core:hover {
            transform: translate(-50%, -50%) scale(1.05);
            box-shadow: 0 0 60px rgba(78, 205, 196, 0.6);
        }
        
        .core-time { font-size: 1.6rem; font-weight: 800; color: #000; }
        .core-frame { font-size: 0.7rem; color: rgba(0,0,0,0.6); }
        .core-label { font-size: 0.75rem; color: rgba(0,0,0,0.8); margin-top: 4px; }
        
        /* Event Nodes */
        .event-node {
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 2px solid #fff;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 5;
        }
        
        .event-node:hover {
            transform: scale(1.5);
            box-shadow: 0 0 15px rgba(255,255,255,0.6);
        }
        
        .event-node.person { background: var(--accent); }
        .event-node.object { background: var(--warning); }
        .event-node.emotion { background: var(--primary); }
        .event-node.bio { background: var(--secondary); }
        .event-node.geo { background: #8b5cf6; }
        
        /* Layer Toggles */
        .layer-toggle {
            position: absolute;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 5;
        }
        
        .layer-toggle.active {
            background: var(--primary);
            color: #000;
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(78, 205, 196, 0.5);
        }
        
        .layer-toggle:hover { transform: scale(1.15); }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MIRROR LLM PANEL
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .llm-panel {
            background: var(--bg-panel);
            border-radius: 16px;
            padding: 1rem;
            border: 1px solid var(--border);
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .llm-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
            color: var(--primary);
            font-weight: 600;
        }
        
        .llm-status {
            margin-left: auto;
            font-size: 0.75rem;
            color: var(--text-dim);
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .llm-status .dot {
            width: 6px;
            height: 6px;
            background: var(--primary);
            border-radius: 50%;
            animation: blink 1.5s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        .llm-response {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 1rem;
            font-size: 0.9rem;
            line-height: 1.6;
            border-left: 3px solid var(--primary);
            flex: 1;
            overflow-y: auto;
            margin-bottom: 0.75rem;
        }
        
        .llm-evidence {
            margin-top: 0.75rem;
            padding-top: 0.75rem;
            border-top: 1px solid var(--border);
            font-size: 0.8rem;
            color: var(--text-dim);
        }
        
        .llm-input-container {
            display: flex;
            gap: 0.5rem;
        }
        
        .llm-input {
            flex: 1;
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border);
            border-radius: 25px;
            padding: 0.75rem 1rem;
            color: var(--text);
            font-size: 0.9rem;
        }
        
        .llm-input::placeholder { color: var(--text-dim); }
        .llm-input:focus { outline: none; border-color: var(--primary); }
        
        .llm-send {
            background: var(--primary);
            border: none;
            border-radius: 50%;
            width: 44px;
            height: 44px;
            color: #000;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s;
        }
        
        .llm-send:hover { transform: scale(1.1); }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MLVF DATA PANEL
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .mlvf-panel {
            background: var(--bg-panel);
            border-radius: 12px;
            padding: 1rem;
            border: 1px solid var(--border);
        }
        
        .mlvf-header {
            font-size: 0.8rem;
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 0.75rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .mlvf-format {
            background: var(--glass);
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
        }
        
        .mlvf-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
        }
        
        .mlvf-item {
            background: rgba(0,0,0,0.2);
            padding: 0.6rem;
            border-radius: 8px;
            font-size: 0.75rem;
        }
        
        .mlvf-item strong {
            color: var(--text-dim);
            display: block;
            margin-bottom: 2px;
            font-size: 0.65rem;
            text-transform: uppercase;
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           STATUS BAR
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .status-bar {
            background: rgba(0,0,0,0.6);
            padding: 0.6rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
        }
        
        .status-left { display: flex; gap: 1.5rem; }
        .status-item { display: flex; align-items: center; gap: 0.5rem; }
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--primary);
        }
        .status-dot.warning { background: var(--warning); }
        .status-dot.error { background: var(--accent); }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESPONSIVE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            .orbital-wheel {
                width: 320px;
                height: 320px;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">ğŸ“¹</span>
                <span class="logo-text">VIRECAI</span>
                <span style="font-size: 0.8rem; color: var(--text-dim); margin-left: 0.5rem;">Production System v3.0</span>
            </div>
            
            <div class="mode-tabs">
                <button class="mode-tab active" data-mode="capture">ğŸ“± Capture</button>
                <button class="mode-tab" data-mode="play">â–¶ï¸ Play</button>
                <button class="mode-tab" data-mode="edit">âœ‚ï¸ Edit</button>
            </div>
            
            <div class="profile-selector">
                <span style="font-size: 0.75rem; color: var(--text-dim);">Profile:</span>
                <button class="profile-btn" data-profile="lite">Lite</button>
                <button class="profile-btn active" data-profile="standard">Standard</button>
                <button class="profile-btn" data-profile="extended">Extended</button>
                <button class="profile-btn" data-profile="ultra">Ultra</button>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="main-content">
            <!-- Left Panel - Video Viewport -->
            <div class="left-panel">
                <div class="video-viewport" id="videoViewport">
                    <video id="cameraPreview" autoplay muted playsinline></video>
                    
                    <div class="ai-overlay" id="aiOverlay"></div>
                    
                    <div class="viewport-badges">
                        <div class="badge emotion" id="emotionBadge">ğŸ˜Š Joy (0.82)</div>
                        <div class="badge bio" id="bioBadge">ğŸ’“ 78 BPM</div>
                        <div class="badge geo" id="geoBadge">ğŸ“ Tracking...</div>
                    </div>
                    
                    <div class="recording-indicator" id="recordingIndicator">
                        <div class="rec-dot"></div>
                        <span>REC</span>
                        <span id="recordingTime">00:00</span>
                    </div>
                </div>
                
                <!-- Sensor Panel -->
                <div class="sensor-panel">
                    <div class="sensor-card active">
                        <div class="sensor-icon">ğŸ’“</div>
                        <div class="sensor-value" id="heartRateValue">78</div>
                        <div class="sensor-label">Heart Rate (BPM)</div>
                    </div>
                    <div class="sensor-card active">
                        <div class="sensor-icon">ğŸŒ¡ï¸</div>
                        <div class="sensor-value" id="tempValue">36.8Â°</div>
                        <div class="sensor-label">Skin Temp</div>
                    </div>
                    <div class="sensor-card active">
                        <div class="sensor-icon">ğŸ¯</div>
                        <div class="sensor-value" id="objectCount">3</div>
                        <div class="sensor-label">Objects</div>
                    </div>
                    <div class="sensor-card active">
                        <div class="sensor-icon">ğŸ“</div>
                        <div class="sensor-value" id="gpsAccuracy">Â±2m</div>
                        <div class="sensor-label">GPS</div>
                    </div>
                    <div class="sensor-card">
                        <div class="sensor-icon">ğŸ§­</div>
                        <div class="sensor-value" id="headingValue">45Â°</div>
                        <div class="sensor-label">Heading</div>
                    </div>
                </div>
                
                <!-- Controls -->
                <div class="controls-bar">
                    <button class="ctrl-btn" id="switchCameraBtn">ğŸ“· Switch</button>
                    <button class="ctrl-btn" id="layersBtn">ğŸšï¸ Layers</button>
                    <button class="ctrl-btn record" id="recordBtn">ğŸ”´</button>
                    <button class="ctrl-btn" id="settingsBtn">âš™ï¸ Settings</button>
                    <button class="ctrl-btn primary" id="exportBtn">ğŸ“¤ Export</button>
                </div>
            </div>
            
            <!-- Right Panel - Orbital Timeline & Mirror LLM -->
            <div class="right-panel">
                <!-- Orbital Timeline -->
                <div class="orbital-container">
                    <div class="orbital-title">
                        ğŸŒŒ Orbital Timeline Wheel
                    </div>
                    
                    <div class="orbital-wheel" id="orbitalWheel">
                        <!-- Rings -->
                        <div class="orbital-ring time-ring">
                            <div class="time-progress" id="timeProgress"></div>
                        </div>
                        <div class="orbital-ring emotion-ring"></div>
                        <div class="orbital-ring layer-ring"></div>
                        <div class="orbital-ring bio-ring"></div>
                        
                        <!-- Center Core -->
                        <div class="center-core" id="centerCore">
                            <div class="core-time" id="coreTime">0:00</div>
                            <div class="core-frame" id="coreFrame">Frame 0</div>
                            <div class="core-label">Tap for LLM</div>
                        </div>
                        
                        <!-- Event Nodes (dynamically positioned) -->
                        <div class="event-node person" style="top: 12%; left: 72%;" title="Person detected @ 0:05"></div>
                        <div class="event-node object" style="top: 28%; left: 88%;" title="Object event @ 0:12"></div>
                        <div class="event-node emotion" style="top: 55%; left: 92%;" title="Joy peak @ 0:28"></div>
                        <div class="event-node bio" style="top: 78%; left: 75%;" title="HR spike @ 0:45"></div>
                        <div class="event-node geo" style="top: 85%; left: 45%;" title="Location change @ 1:02"></div>
                        <div class="event-node person" style="top: 75%; left: 18%;" title="Person exit @ 1:15"></div>
                        <div class="event-node emotion" style="top: 48%; left: 8%;" title="Emotion shift @ 1:28"></div>
                        <div class="event-node object" style="top: 22%; left: 15%;" title="New object @ 1:40"></div>
                        
                        <!-- Layer Toggles -->
                        <div class="layer-toggle active" style="top: 2%; left: 47%;" data-layer="visual" title="Visual Layer">ğŸ“¹</div>
                        <div class="layer-toggle active" style="top: 12%; right: 8%;" data-layer="audio" title="Audio Layer">ğŸµ</div>
                        <div class="layer-toggle active" style="top: 47%; right: 2%;" data-layer="depth" title="Depth Layer">ğŸ“</div>
                        <div class="layer-toggle active" style="bottom: 12%; right: 8%;" data-layer="geopose" title="GeoPose">ğŸ“</div>
                        <div class="layer-toggle active" style="bottom: 2%; left: 47%;" data-layer="biometric" title="Biometric">ğŸ’“</div>
                        <div class="layer-toggle active" style="bottom: 12%; left: 8%;" data-layer="emotion" title="Emotion">ğŸ˜Š</div>
                        <div class="layer-toggle" style="top: 47%; left: 2%;" data-layer="consent" title="Consent">ğŸ”’</div>
                        <div class="layer-toggle" style="top: 12%; left: 8%;" data-layer="smell" title="Scent Layer">ğŸ‘ƒ</div>
                    </div>
                </div>
                
                <!-- Mirror LLM Panel -->
                <div class="llm-panel">
                    <div class="llm-header">
                        <span>ğŸ§ </span> Mirror LLM - Scene Comprehension
                        <div class="llm-status">
                            <div class="dot"></div>
                            <span>Active</span>
                        </div>
                    </div>
                    <div class="llm-response" id="llmResponse">
                        <strong>System Ready</strong><br><br>
                        Mirror LLM is connected and ready to analyze your VIRECAI capsule content. I can provide:
                        <br><br>
                        â€¢ <strong>Scene Comprehension:</strong> "What's happening in this frame?"
                        <br>â€¢ <strong>Emotional Analysis:</strong> "Why did the mood change here?"
                        <br>â€¢ <strong>Object Tracking:</strong> "Follow this person through the video"
                        <br>â€¢ <strong>Biometric Correlation:</strong> "What caused the heart rate spike?"
                        <br>â€¢ <strong>Contextual Queries:</strong> "Where and when was this recorded?"
                        
                        <div class="llm-evidence">
                            <strong>MLVFF Evidence Chain:</strong> Ready to provide frame-level data, object tracking confidence, emotion vectors, and biometric correlations.
                        </div>
                    </div>
                    <div class="llm-input-container">
                        <input type="text" class="llm-input" placeholder="ğŸ¤ Ask about the scene..." id="llmInput">
                        <button class="llm-send" id="llmSend">â¤</button>
                    </div>
                </div>
                
                <!-- MLVF Data Panel -->
                <div class="mlvf-panel">
                    <div class="mlvf-header">
                        ğŸ“Š MLVF/MLVFF Frame Data
                        <span class="mlvf-format">.vrc v2.0</span>
                    </div>
                    <div class="mlvf-grid">
                        <div class="mlvf-item">
                            <strong>Container</strong>
                            <span id="mlvfContainer">Ready</span>
                        </div>
                        <div class="mlvf-item">
                            <strong>Frame</strong>
                            <span id="mlvfFrame">0 / 0</span>
                        </div>
                        <div class="mlvf-item">
                            <strong>Layers</strong>
                            <span id="mlvfLayers">6 active</span>
                        </div>
                        <div class="mlvf-item">
                            <strong>Objects</strong>
                            <span id="mlvfObjects">0 tracked</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Status Bar -->
        <footer class="status-bar">
            <div class="status-left">
                <div class="status-item">
                    <div class="status-dot" id="aiStatusDot"></div>
                    <span>AI: Active</span>
                </div>
                <div class="status-item">
                    <div class="status-dot" id="sensorStatusDot"></div>
                    <span>Sensors: Ready</span>
                </div>
                <div class="status-item" id="modeStatus">
                    <span>Mode: Capture</span>
                </div>
            </div>
            <div>
                <span style="color: var(--primary);">VIRECAI</span> â€¢ 
                18 Semantic Layers â€¢ Causal DAG â€¢ Mirror LLM â€¢ 
                <span id="profileStatus">Standard Profile</span>
            </div>
        </footer>
    </div>

    <script>
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // VIRECAI PRODUCTION SYSTEM v3.0
    // Complete Smart Video Platform with Orbital Timeline & Mirror LLM
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // LAYER DEFINITIONS (25 Semantic Layers)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const VIRECAI_LAYERS = {
        // Core Visual
        VISUAL: { id: 'visual', name: 'Visual', icon: 'ğŸ“¹', active: true },
        DEPTH: { id: 'depth', name: 'Depth', icon: 'ğŸ“', active: true },
        
        // Audio
        AUDIO: { id: 'audio', name: 'Audio', icon: 'ğŸµ', active: true },
        SOUND_SEMANTIC: { id: 'sound_semantic', name: 'Sound Semantic', icon: 'ğŸ”Š', active: false },
        
        // Object & Scene
        OBJECT: { id: 'object', name: 'Object', icon: 'ğŸ¯', active: true },
        SCENE_GRAPH: { id: 'scene_graph', name: 'Scene Graph', icon: 'ğŸ—ºï¸', active: false },
        
        // Context
        GEOPOSE: { id: 'geopose', name: 'GeoPose', icon: 'ğŸ“', active: true },
        LIGHT_ENV: { id: 'light_env', name: 'Light Env', icon: 'ğŸ’¡', active: false },
        WEATHER_ENV: { id: 'weather_env', name: 'Weather', icon: 'ğŸŒ¤ï¸', active: false },
        
        // Human
        BIOMETRIC: { id: 'biometric', name: 'Biometric', icon: 'ğŸ’“', active: true },
        BIO_SOUND: { id: 'bio_sound', name: 'Voice Print', icon: 'ğŸ™ï¸', active: false },
        EMOTION: { id: 'emotion', name: 'Emotion', icon: 'ğŸ˜Š', active: true },
        HUMAN_FACTOR: { id: 'human_factor', name: 'Human Factor', icon: 'ğŸ‘¤', active: false },
        
        // Scientific
        PHYSICS: { id: 'physics', name: 'Physics', icon: 'âš¡', active: false },
        THERMAL: { id: 'thermal', name: 'Thermal', icon: 'ğŸŒ¡ï¸', active: false },
        MATERIAL: { id: 'material', name: 'Material', icon: 'ğŸ§±', active: false },
        
        // Meta
        SEMANTIC: { id: 'semantic', name: 'Semantic', icon: 'ğŸ“š', active: false },
        SYMBOLIC: { id: 'symbolic', name: 'Symbolic', icon: 'ğŸ”£', active: false },
        TEMPORAL: { id: 'temporal', name: 'Temporal', icon: 'â±ï¸', active: true },
        
        // Privacy & Security
        CONSENT: { id: 'consent', name: 'Consent', icon: 'ğŸ”’', active: false },
        PROVENANCE: { id: 'provenance', name: 'Provenance', icon: 'ğŸ“œ', active: false },
        
        // Future
        SMELL: { id: 'smell', name: 'Scent', icon: 'ğŸ‘ƒ', active: false },
        HAPTIC: { id: 'haptic', name: 'Haptic', icon: 'âœ‹', active: false },
        
        // Risk
        RISK_SAFETY: { id: 'risk_safety', name: 'Risk/Safety', icon: 'âš ï¸', active: false },
        PROBABILITY: { id: 'probability', name: 'Probability', icon: 'ğŸ“Š', active: false }
    };
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // COMPATIBILITY PROFILES
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const PROFILES = {
        lite: {
            name: 'Lite',
            layers: ['visual', 'audio', 'object'],
            maxResolution: 720,
            description: 'Basic capture for quick sharing'
        },
        standard: {
            name: 'Standard',
            layers: ['visual', 'audio', 'depth', 'object', 'emotion', 'biometric', 'geopose', 'temporal'],
            maxResolution: 1080,
            description: 'Full smart video experience'
        },
        extended: {
            name: 'Extended',
            layers: ['visual', 'audio', 'depth', 'object', 'emotion', 'biometric', 'geopose', 'temporal', 'scene_graph', 'sound_semantic', 'light_env', 'consent'],
            maxResolution: 1440,
            description: 'Professional analysis features'
        },
        ultra: {
            name: 'Ultra',
            layers: Object.keys(VIRECAI_LAYERS).map(k => VIRECAI_LAYERS[k].id),
            maxResolution: 2160,
            description: 'All layers enabled - research grade'
        }
    };
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // MLVF CAPSULE CLASS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    class MLVFCapsule {
        constructor(config = {}) {
            this.id = `vrc_${Date.now()}`;
            this.version = '2.0.0';
            this.profile = config.profile || 'standard';
            
            this.metadata = {
                title: config.title || 'Untitled',
                author: config.author || 'Unknown',
                created: Date.now(),
                modified: Date.now()
            };
            
            this.config = {
                width: config.width || 1920,
                height: config.height || 1080,
                frameRate: config.frameRate || 30,
                duration: 0
            };
            
            this.frames = [];
            this.activeLayers = new Set(PROFILES[this.profile].layers);
            
            // Causal DAG
            this.causalGraph = { nodes: [], edges: [] };
            
            // Consent & Provenance
            this.consent = { permissions: {}, anonymized: false };
            this.provenance = { signatures: [], hashchain: [] };
        }
        
        addFrame(frameData) {
            this.frames.push(frameData);
            this.config.duration = frameData.timestamp;
        }
        
        getFrame(index) {
            return this.frames[index];
        }
        
        getFrameAtTime(timestamp) {
            for (let i = this.frames.length - 1; i >= 0; i--) {
                if (this.frames[i].timestamp <= timestamp) {
                    return this.frames[i];
                }
            }
            return this.frames[0];
        }
        
        serialize() {
            return JSON.stringify({
                id: this.id,
                version: this.version,
                profile: this.profile,
                metadata: this.metadata,
                config: this.config,
                frameCount: this.frames.length,
                activeLayers: Array.from(this.activeLayers),
                causalGraph: this.causalGraph,
                consent: this.consent,
                provenance: this.provenance
            });
        }
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // MLVFF FRAME CLASS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    class MLVFFFrame {
        constructor(index, timestamp) {
            this.index = index;
            this.timestamp = timestamp;
            this.isKeyframe = false;
            this.layers = new Map();
        }
        
        setLayer(layerId, data) {
            this.layers.set(layerId, {
                type: layerId,
                timestamp: this.timestamp,
                data: data
            });
        }
        
        getLayer(layerId) {
            return this.layers.get(layerId);
        }
        
        hasLayer(layerId) {
            return this.layers.has(layerId);
        }
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // MIRROR LLM ENGINE
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    class MirrorLLMEngine {
        constructor() {
            this.contextWindow = [];
            this.currentFrame = null;
        }
        
        setCurrentFrame(frameData) {
            this.currentFrame = frameData;
            this.contextWindow.push(frameData);
            if (this.contextWindow.length > 30) {
                this.contextWindow.shift();
            }
        }
        
        processQuery(query, frameData) {
            const q = query.toLowerCase();
            
            // Scene Comprehension
            if (q.includes('what') && (q.includes('happening') || q.includes('see'))) {
                return this.analyzeScene(frameData);
            }
            
            // Emotion Analysis
            if (q.includes('emotion') || q.includes('feel') || q.includes('mood') || q.includes('why')) {
                return this.analyzeEmotion(frameData);
            }
            
            // Object Queries
            if (q.includes('object') || q.includes('person') || q.includes('detect') || q.includes('track')) {
                return this.analyzeObjects(frameData);
            }
            
            // Biometric Queries
            if (q.includes('heart') || q.includes('bio') || q.includes('stress') || q.includes('spike')) {
                return this.analyzeBiometrics(frameData);
            }
            
            // Location Queries
            if (q.includes('where') || q.includes('location') || q.includes('gps')) {
                return this.analyzeLocation(frameData);
            }
            
            // Generic response
            return this.genericResponse(query, frameData);
        }
        
        analyzeScene(frameData) {
            const objects = frameData.objects || [];
            const emotion = frameData.emotion || {};
            const environment = frameData.environment || {};
            
            let response = `<strong>Scene Analysis - Frame ${frameData.index}</strong><br><br>`;
            
            response += `I can see ${objects.length} object${objects.length !== 1 ? 's' : ''} in this frame: `;
            response += objects.map(o => `${o.type} (${(o.confidence * 100).toFixed(0)}%)`).join(', ') || 'none detected';
            response += '.<br><br>';
            
            response += `The dominant emotion is <strong>${emotion.primary || 'neutral'}</strong> `;
            response += `with a valence of ${(emotion.valence || 0).toFixed(2)}. `;
            
            if (emotion.arousal > 0.6) {
                response += 'There\'s high emotional engagement in this moment.';
            }
            
            response += `<div class="llm-evidence"><strong>MLVFF Evidence:</strong> Object detection confidence: ${objects.length > 0 ? (objects.reduce((s, o) => s + o.confidence, 0) / objects.length * 100).toFixed(1) : 0}% avg â€¢ Emotion vectors analyzed â€¢ Spatial relations mapped</div>`;
            
            return response;
        }
        
        analyzeEmotion(frameData) {
            const emotion = frameData.emotion || {};
            const biometrics = frameData.biometrics || {};
            
            let response = `<strong>Emotional Analysis</strong><br><br>`;
            
            response += `Current emotional state: <strong>${emotion.primary || 'neutral'}</strong><br>`;
            response += `â€¢ Valence (positive/negative): ${(emotion.valence || 0).toFixed(2)}<br>`;
            response += `â€¢ Arousal (intensity): ${(emotion.arousal || 0).toFixed(2)}<br>`;
            response += `â€¢ Sentiment: ${emotion.sentiment > 0 ? 'Positive' : emotion.sentiment < 0 ? 'Negative' : 'Neutral'}<br><br>`;
            
            if (emotion.probabilities) {
                response += 'Emotion breakdown: ';
                response += Object.entries(emotion.probabilities)
                    .sort((a, b) => b[1] - a[1])
                    .slice(0, 3)
                    .map(([k, v]) => `${k} (${(v * 100).toFixed(0)}%)`)
                    .join(', ');
            }
            
            response += `<div class="llm-evidence"><strong>Biometric Correlation:</strong> HR ${biometrics.heartRate || '?'} BPM â€¢ Skin temp ${biometrics.skinTemp || '?'}Â°C â€¢ Stress level: ${biometrics.stressLevel ? (biometrics.stressLevel < 0.3 ? 'Low' : biometrics.stressLevel < 0.6 ? 'Medium' : 'High') : 'Unknown'}</div>`;
            
            return response;
        }
        
        analyzeObjects(frameData) {
            const objects = frameData.objects || [];
            
            let response = `<strong>Object Detection Report</strong><br><br>`;
            
            if (objects.length === 0) {
                response += 'No objects currently detected in frame.';
            } else {
                response += `Tracking ${objects.length} object${objects.length !== 1 ? 's' : ''}:<br><br>`;
                
                objects.forEach((obj, i) => {
                    response += `${i + 1}. <strong>${obj.type}</strong><br>`;
                    response += `   â€¢ Confidence: ${(obj.confidence * 100).toFixed(1)}%<br>`;
                    response += `   â€¢ Position: [${obj.bbox ? obj.bbox.map(v => v.toFixed(0)).join(', ') : 'tracking'}]<br>`;
                    if (obj.trackId) response += `   â€¢ Track ID: ${obj.trackId}<br>`;
                });
            }
            
            response += `<div class="llm-evidence"><strong>MLVFF Object Layer:</strong> Detection model active â€¢ Tracking enabled â€¢ Scene graph: ${objects.length} nodes</div>`;
            
            return response;
        }
        
        analyzeBiometrics(frameData) {
            const bio = frameData.biometrics || {};
            
            let response = `<strong>Biometric Analysis</strong><br><br>`;
            
            response += `â€¢ Heart Rate: <strong>${bio.heartRate || '?'} BPM</strong> `;
            if (bio.heartRate > 90) response += '(elevated)';
            else if (bio.heartRate < 60) response += '(low)';
            else response += '(normal range)';
            response += '<br>';
            
            response += `â€¢ Skin Temperature: <strong>${bio.skinTemp || '?'}Â°C</strong><br>`;
            response += `â€¢ Respiratory Rate: <strong>${bio.respiratoryRate || '?'}/min</strong><br>`;
            response += `â€¢ Stress Level: <strong>${bio.stressLevel ? (bio.stressLevel * 100).toFixed(0) + '%' : 'Unknown'}</strong><br><br>`;
            
            if (bio.stressLevel > 0.6) {
                response += 'âš ï¸ Elevated stress indicators detected. This correlates with the current emotional state.';
            }
            
            response += `<div class="llm-evidence"><strong>Sensor Fusion:</strong> Multi-modal biometric integration â€¢ Temporal smoothing applied â€¢ Confidence: High</div>`;
            
            return response;
        }
        
        analyzeLocation(frameData) {
            const geo = frameData.geopose || {};
            
            let response = `<strong>Location & Context</strong><br><br>`;
            
            if (geo.latitude && geo.longitude) {
                response += `ğŸ“ <strong>Coordinates:</strong> ${geo.latitude.toFixed(4)}Â°N, ${Math.abs(geo.longitude).toFixed(4)}Â°W<br>`;
                response += `â€¢ Altitude: ${geo.altitude || '?'}m<br>`;
                response += `â€¢ Accuracy: Â±${geo.accuracy || '?'}m<br>`;
                response += `â€¢ Heading: ${geo.heading || '?'}Â°<br><br>`;
            } else {
                response += 'GPS data not available or still acquiring.<br><br>';
            }
            
            if (geo.orientation) {
                response += `<strong>Device Orientation:</strong><br>`;
                response += `â€¢ Yaw: ${geo.orientation.alpha?.toFixed(1) || '?'}Â°<br>`;
                response += `â€¢ Pitch: ${geo.orientation.beta?.toFixed(1) || '?'}Â°<br>`;
                response += `â€¢ Roll: ${geo.orientation.gamma?.toFixed(1) || '?'}Â°<br>`;
            }
            
            response += `<div class="llm-evidence"><strong>GeoPose Layer:</strong> GPS + IMU fusion â€¢ Quaternion orientation â€¢ Timestamp: ${new Date().toISOString()}</div>`;
            
            return response;
        }
        
        genericResponse(query, frameData) {
            return `<strong>Processing Query</strong><br><br>
                "${query}"<br><br>
                I'm analyzing the current MLVFF frame data. Try asking about:
                <br>â€¢ <strong>Scene:</strong> "What's happening here?"
                <br>â€¢ <strong>Emotions:</strong> "What's the mood?"
                <br>â€¢ <strong>Objects:</strong> "What objects do you see?"
                <br>â€¢ <strong>Biometrics:</strong> "What's the heart rate?"
                <br>â€¢ <strong>Location:</strong> "Where was this recorded?"
                
                <div class="llm-evidence"><strong>Available Data:</strong> Frame ${frameData.index} â€¢ ${frameData.objects?.length || 0} objects â€¢ ${Object.keys(frameData).length} layer types</div>`;
        }
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // VIRECAI STUDIO APPLICATION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    class VIRECAIStudio {
        constructor() {
            // State
            this.currentMode = 'capture';
            this.currentProfile = 'standard';
            this.isRecording = false;
            this.stream = null;
            this.capsule = null;
            this.frameIndex = 0;
            this.startTime = 0;
            
            // Layers
            this.activeLayers = new Set(PROFILES.standard.layers);
            
            // Orbital Timeline
            this.orbitalRotation = 0;
            this.currentTime = 0;
            this.totalDuration = 120; // seconds
            
            // Sensors
            this.sensorData = {
                heartRate: 78,
                skinTemp: 36.8,
                respiratoryRate: 14,
                stressLevel: 0.25,
                gps: null,
                orientation: null
            };
            
            // AI
            this.detectedObjects = [];
            this.currentEmotion = {
                primary: 'neutral',
                probabilities: { neutral: 0.5, joy: 0.3, surprise: 0.2 },
                valence: 0.1,
                arousal: 0.3,
                sentiment: 0.1
            };
            
            // Mirror LLM
            this.mirrorLLM = new MirrorLLMEngine();
            
            // Initialize
            this.init();
        }
        
        async init() {
            console.log('ğŸ¬ VIRECAI Production System v3.0 initializing...');
            
            this.bindEvents();
            this.startSimulations();
            
            try {
                await this.initCamera();
            } catch (e) {
                console.warn('Camera not available:', e);
                this.showCameraPlaceholder();
            }
            
            this.initSensors();
            this.setupOrbitalControls();
            
            console.log('âœ… VIRECAI Production System ready');
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // CAMERA INITIALIZATION
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        async initCamera() {
            const constraints = {
                video: {
                    width: { ideal: 1920 },
                    height: { ideal: 1080 },
                    frameRate: { ideal: 30 },
                    facingMode: 'user'
                },
                audio: true
            };
            
            this.stream = await navigator.mediaDevices.getUserMedia(constraints);
            
            const video = document.getElementById('cameraPreview');
            video.srcObject = this.stream;
            
            const settings = this.stream.getVideoTracks()[0].getSettings();
            console.log(`ğŸ“· Camera: ${settings.width}x${settings.height} @ ${settings.frameRate}fps`);
        }
        
        showCameraPlaceholder() {
            const viewport = document.getElementById('videoViewport');
            viewport.innerHTML = `
                <div class="video-placeholder">
                    <span class="icon">ğŸ“·</span>
                    <span>Camera Preview</span>
                    <span style="font-size: 0.9rem; color: var(--text-dim);">Grant camera permission or running in demo mode</span>
                </div>
                <div class="ai-overlay" id="aiOverlay"></div>
                <div class="viewport-badges">
                    <div class="badge emotion" id="emotionBadge">ğŸ˜Š Joy (0.82)</div>
                    <div class="badge bio" id="bioBadge">ğŸ’“ 78 BPM</div>
                    <div class="badge geo" id="geoBadge">ğŸ“ Tracking...</div>
                </div>
                <div class="recording-indicator" id="recordingIndicator">
                    <div class="rec-dot"></div>
                    <span>REC</span>
                    <span id="recordingTime">00:00</span>
                </div>
            `;
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // SENSOR INITIALIZATION
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        initSensors() {
            // GPS
            if (navigator.geolocation) {
                navigator.geolocation.watchPosition(
                    (pos) => {
                        this.sensorData.gps = {
                            latitude: pos.coords.latitude,
                            longitude: pos.coords.longitude,
                            altitude: pos.coords.altitude,
                            accuracy: pos.coords.accuracy,
                            heading: pos.coords.heading
                        };
                        document.getElementById('geoBadge').textContent = 
                            `ğŸ“ ${pos.coords.latitude.toFixed(4)}Â°N`;
                    },
                    (err) => console.warn('GPS error:', err),
                    { enableHighAccuracy: true }
                );
            }
            
            // Device Orientation (IMU)
            if (window.DeviceOrientationEvent) {
                window.addEventListener('deviceorientation', (e) => {
                    this.sensorData.orientation = {
                        alpha: e.alpha,
                        beta: e.beta,
                        gamma: e.gamma
                    };
                    if (e.alpha) {
                        document.getElementById('headingValue').textContent = 
                            `${Math.round(e.alpha)}Â°`;
                    }
                });
            }
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // EVENT BINDINGS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        bindEvents() {
            // Mode tabs
            document.querySelectorAll('.mode-tab').forEach(tab => {
                tab.addEventListener('click', () => this.switchMode(tab.dataset.mode));
            });
            
            // Profile buttons
            document.querySelectorAll('.profile-btn').forEach(btn => {
                btn.addEventListener('click', () => this.switchProfile(btn.dataset.profile));
            });
            
            // Record button
            document.getElementById('recordBtn').addEventListener('click', () => this.toggleRecording());
            
            // Layer toggles
            document.querySelectorAll('.layer-toggle').forEach(toggle => {
                toggle.addEventListener('click', () => this.toggleLayer(toggle));
            });
            
            // Center core (LLM activation)
            document.getElementById('centerCore').addEventListener('click', () => this.activateLLM());
            
            // LLM input
            document.getElementById('llmInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    this.processLLMQuery(e.target.value);
                    e.target.value = '';
                }
            });
            
            document.getElementById('llmSend').addEventListener('click', () => {
                const input = document.getElementById('llmInput');
                this.processLLMQuery(input.value);
                input.value = '';
            });
            
            // Event nodes
            document.querySelectorAll('.event-node').forEach(node => {
                node.addEventListener('click', () => {
                    const time = node.title.match(/@ (\d+:\d+)/)?.[1];
                    if (time) this.jumpToTime(time);
                });
            });
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // MODE & PROFILE SWITCHING
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        switchMode(mode) {
            this.currentMode = mode;
            
            document.querySelectorAll('.mode-tab').forEach(tab => {
                tab.classList.toggle('active', tab.dataset.mode === mode);
            });
            
            document.getElementById('modeStatus').querySelector('span').textContent = 
                `Mode: ${mode.charAt(0).toUpperCase() + mode.slice(1)}`;
            
            console.log(`ğŸ“± Mode: ${mode}`);
        }
        
        switchProfile(profile) {
            this.currentProfile = profile;
            
            document.querySelectorAll('.profile-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.profile === profile);
            });
            
            // Update active layers
            this.activeLayers = new Set(PROFILES[profile].layers);
            
            // Update layer toggles
            document.querySelectorAll('.layer-toggle').forEach(toggle => {
                const layer = toggle.dataset.layer;
                toggle.classList.toggle('active', this.activeLayers.has(layer));
            });
            
            document.getElementById('profileStatus').textContent = `${PROFILES[profile].name} Profile`;
            document.getElementById('mlvfLayers').textContent = `${this.activeLayers.size} active`;
            
            console.log(`ğŸ“‹ Profile: ${profile} (${this.activeLayers.size} layers)`);
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // RECORDING
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        toggleRecording() {
            this.isRecording = !this.isRecording;
            
            const btn = document.getElementById('recordBtn');
            const viewport = document.getElementById('videoViewport');
            const indicator = document.getElementById('recordingIndicator');
            
            if (this.isRecording) {
                // Start recording
                btn.classList.add('active');
                btn.textContent = 'â¹';
                viewport.classList.add('recording');
                indicator.classList.add('active');
                
                this.startRecording();
            } else {
                // Stop recording
                btn.classList.remove('active');
                btn.textContent = 'ğŸ”´';
                viewport.classList.remove('recording');
                indicator.classList.remove('active');
                
                this.stopRecording();
            }
        }
        
        startRecording() {
            console.log('ğŸ”´ Recording started');
            
            this.startTime = performance.now();
            this.frameIndex = 0;
            
            // Create new capsule
            this.capsule = new MLVFCapsule({
                title: `Recording ${Date.now()}`,
                profile: this.currentProfile,
                width: 1920,
                height: 1080,
                frameRate: 30
            });
            
            // Update UI
            document.getElementById('mlvfContainer').textContent = this.capsule.id;
            
            // Start capture loop
            this.captureLoop();
            
            // Update LLM
            this.updateLLMResponse(`<strong>Recording Started</strong><br><br>
                Capturing VIRECAI capsule with <strong>${this.currentProfile}</strong> profile.
                <br><br>
                Active layers: ${Array.from(this.activeLayers).join(', ')}
                <br><br>
                Real-time AI analysis is processing each frame for object detection, emotion recognition, and biometric correlation.
                
                <div class="llm-evidence"><strong>Capsule ID:</strong> ${this.capsule.id}</div>`);
        }
        
        stopRecording() {
            console.log('â¹ï¸ Recording stopped');
            
            if (this.capsule) {
                this.capsule.metadata.modified = Date.now();
                
                this.updateLLMResponse(`<strong>Recording Complete!</strong><br><br>
                    Capsule saved: <strong>${this.capsule.id}</strong>
                    <br>Duration: ${(this.capsule.config.duration / 1000).toFixed(1)}s
                    <br>Frames: ${this.capsule.frames.length}
                    <br>Profile: ${this.currentProfile}
                    <br>Layers: ${this.activeLayers.size} active
                    
                    <div class="llm-evidence"><strong>Size:</strong> ~${(this.capsule.frames.length * 2).toFixed(1)} KB metadata â€¢ Video stream pending export</div>`);
            }
        }
        
        captureLoop() {
            if (!this.isRecording) return;
            
            const timestamp = performance.now() - this.startTime;
            
            // Create frame
            const frame = new MLVFFFrame(this.frameIndex, timestamp);
            frame.isKeyframe = this.frameIndex % 30 === 0;
            
            // Add active layers
            if (this.activeLayers.has('visual')) {
                frame.setLayer('visual', { width: 1920, height: 1080, colorSpace: 'sRGB' });
            }
            
            if (this.activeLayers.has('temporal')) {
                frame.setLayer('temporal', { timestamp, frameIndex: this.frameIndex, absoluteTime: Date.now() });
            }
            
            if (this.activeLayers.has('object')) {
                frame.setLayer('object', { detections: this.detectedObjects });
            }
            
            if (this.activeLayers.has('emotion')) {
                frame.setLayer('emotion', this.currentEmotion);
            }
            
            if (this.activeLayers.has('biometric')) {
                frame.setLayer('biometric', { ...this.sensorData });
            }
            
            if (this.activeLayers.has('geopose') && this.sensorData.gps) {
                frame.setLayer('geopose', {
                    ...this.sensorData.gps,
                    orientation: this.sensorData.orientation
                });
            }
            
            // Add to capsule
            this.capsule.addFrame(frame);
            this.frameIndex++;
            
            // Update UI
            const seconds = Math.floor(timestamp / 1000);
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            document.getElementById('recordingTime').textContent = 
                `${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
            document.getElementById('mlvfFrame').textContent = 
                `${this.frameIndex} / ${this.frameIndex}`;
            
            // Continue loop
            requestAnimationFrame(() => this.captureLoop());
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ORBITAL TIMELINE CONTROLS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        setupOrbitalControls() {
            const wheel = document.getElementById('orbitalWheel');
            let isDragging = false;
            let startAngle = 0;
            
            wheel.addEventListener('mousedown', (e) => {
                isDragging = true;
                startAngle = this.getAngleFromEvent(e, wheel);
                wheel.style.cursor = 'grabbing';
            });
            
            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    const currentAngle = this.getAngleFromEvent(e, wheel);
                    const deltaAngle = currentAngle - startAngle;
                    this.rotateTimeline(deltaAngle);
                    startAngle = currentAngle;
                }
            });
            
            document.addEventListener('mouseup', () => {
                if (isDragging) {
                    isDragging = false;
                    wheel.style.cursor = 'grab';
                }
            });
        }
        
        getAngleFromEvent(e, element) {
            const rect = element.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            return Math.atan2(e.clientY - centerY, e.clientX - centerX) * 180 / Math.PI;
        }
        
        rotateTimeline(deltaAngle) {
            this.orbitalRotation += deltaAngle;
            
            // Update time progress ring
            const progress = document.getElementById('timeProgress');
            progress.style.transform = `rotate(${this.orbitalRotation - 90}deg)`;
            
            // Calculate time
            const normalizedRotation = ((this.orbitalRotation % 360) + 360) % 360;
            this.currentTime = (normalizedRotation / 360) * this.totalDuration;
            
            // Update display
            const mins = Math.floor(this.currentTime / 60);
            const secs = Math.floor(this.currentTime % 60);
            document.getElementById('coreTime').textContent = 
                `${mins}:${String(secs).padStart(2, '0')}`;
            
            // Update frame
            const frameRate = 30;
            const frame = Math.floor(this.currentTime * frameRate);
            document.getElementById('coreFrame').textContent = `Frame ${frame}`;
        }
        
        jumpToTime(timeStr) {
            const [mins, secs] = timeStr.split(':').map(Number);
            this.currentTime = mins * 60 + secs;
            this.orbitalRotation = (this.currentTime / this.totalDuration) * 360;
            this.rotateTimeline(0);
            
            console.log(`â±ï¸ Jumped to ${timeStr}`);
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // LAYER MANAGEMENT
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        toggleLayer(toggle) {
            const layer = toggle.dataset.layer;
            
            if (this.activeLayers.has(layer)) {
                this.activeLayers.delete(layer);
                toggle.classList.remove('active');
            } else {
                this.activeLayers.add(layer);
                toggle.classList.add('active');
            }
            
            document.getElementById('mlvfLayers').textContent = `${this.activeLayers.size} active`;
            console.log(`ğŸšï¸ Layer ${layer}: ${this.activeLayers.has(layer) ? 'ON' : 'OFF'}`);
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // MIRROR LLM
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        activateLLM() {
            const frameData = this.getCurrentFrameData();
            const response = this.mirrorLLM.analyzeScene(frameData);
            this.updateLLMResponse(response);
        }
        
        processLLMQuery(query) {
            if (!query.trim()) return;
            
            const frameData = this.getCurrentFrameData();
            const response = this.mirrorLLM.processQuery(query, frameData);
            this.updateLLMResponse(response);
        }
        
        updateLLMResponse(html) {
            document.getElementById('llmResponse').innerHTML = html;
        }
        
        getCurrentFrameData() {
            return {
                index: this.frameIndex,
                timestamp: this.currentTime * 1000,
                objects: this.detectedObjects,
                emotion: this.currentEmotion,
                biometrics: this.sensorData,
                geopose: this.sensorData.gps ? {
                    ...this.sensorData.gps,
                    orientation: this.sensorData.orientation
                } : null
            };
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // SIMULATIONS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        startSimulations() {
            // Sensor simulation
            setInterval(() => {
                this.sensorData.heartRate = 70 + Math.sin(Date.now() / 5000) * 10 + Math.random() * 5;
                this.sensorData.skinTemp = 36.5 + Math.random() * 0.8;
                this.sensorData.stressLevel = 0.2 + Math.sin(Date.now() / 10000) * 0.2 + Math.random() * 0.1;
                
                document.getElementById('heartRateValue').textContent = Math.round(this.sensorData.heartRate);
                document.getElementById('tempValue').textContent = this.sensorData.skinTemp.toFixed(1) + 'Â°';
                document.getElementById('bioBadge').textContent = `ğŸ’“ ${Math.round(this.sensorData.heartRate)} BPM`;
            }, 1000);
            
            // Emotion simulation
            setInterval(() => {
                const emotions = ['joy', 'surprise', 'neutral', 'interest', 'calm'];
                const primary = emotions[Math.floor(Math.random() * emotions.length)];
                
                this.currentEmotion = {
                    primary: primary,
                    probabilities: {
                        joy: 0.1 + Math.random() * 0.5,
                        surprise: Math.random() * 0.4,
                        neutral: Math.random() * 0.5,
                        interest: Math.random() * 0.3,
                        calm: Math.random() * 0.4
                    },
                    valence: Math.sin(Date.now() / 8000) * 0.5,
                    arousal: 0.3 + Math.sin(Date.now() / 6000) * 0.3,
                    sentiment: Math.sin(Date.now() / 10000) * 0.5
                };
                
                const emojis = { joy: 'ğŸ˜Š', surprise: 'ğŸ˜®', neutral: 'ğŸ˜', interest: 'ğŸ¤”', calm: 'ğŸ˜Œ' };
                const confidence = Math.max(...Object.values(this.currentEmotion.probabilities));
                document.getElementById('emotionBadge').textContent = 
                    `${emojis[primary] || 'ğŸ˜Š'} ${primary.charAt(0).toUpperCase() + primary.slice(1)} (${confidence.toFixed(2)})`;
            }, 2000);
            
            // Object detection simulation
            setInterval(() => {
                const objectTypes = ['person', 'phone', 'cup', 'chair', 'laptop', 'book'];
                const count = 1 + Math.floor(Math.random() * 4);
                
                this.detectedObjects = Array.from({ length: count }, (_, i) => ({
                    type: objectTypes[Math.floor(Math.random() * objectTypes.length)],
                    confidence: 0.7 + Math.random() * 0.25,
                    bbox: [
                        Math.random() * 60 + 10,
                        Math.random() * 50 + 10,
                        10 + Math.random() * 25,
                        15 + Math.random() * 30
                    ],
                    trackId: i + 1
                }));
                
                document.getElementById('objectCount').textContent = this.detectedObjects.length;
                document.getElementById('mlvfObjects').textContent = `${this.detectedObjects.length} tracked`;
                
                this.updateObjectOverlay();
            }, 3000);
        }
        
        updateObjectOverlay() {
            const overlay = document.getElementById('aiOverlay');
            if (!overlay) return;
            
            overlay.innerHTML = this.detectedObjects.map(obj => `
                <div class="detected-box" style="
                    left: ${obj.bbox[0]}%;
                    top: ${obj.bbox[1]}%;
                    width: ${obj.bbox[2]}%;
                    height: ${obj.bbox[3]}%;
                ">
                    <div class="detected-label">${obj.type} (${(obj.confidence * 100).toFixed(0)}%)</div>
                </div>
            `).join('');
        }
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // INITIALIZE
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const app = new VIRECAIStudio();
    
    // Console welcome
    setTimeout(() => {
        console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
        console.log('  ğŸ“¹ VIRECAI Production System v3.0');
        console.log('  Complete Smart Video Platform');
        console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
        console.log('');
        console.log('ğŸŒŸ Core Innovations:');
        console.log('  âœ… 25 Semantic Layers (MLVF/MLVFF)');
        console.log('  âœ… Orbital Timeline Wheel (radial navigation)');
        console.log('  âœ… Mirror LLM (AI scene comprehension)');
        console.log('  âœ… Real-time Object/Emotion Detection');
        console.log('  âœ… Biometric Integration');
        console.log('  âœ… GeoPose Tracking (GPS + IMU)');
        console.log('  âœ… Compatibility Profiles (Lite â†’ Ultra)');
        console.log('  âœ… Causal DAG Engine');
        console.log('');
        console.log('ğŸ›ï¸ Interactions:');
        console.log('  â€¢ Click ğŸ”´ to start recording');
        console.log('  â€¢ Drag the Orbital Timeline Wheel');
        console.log('  â€¢ Toggle layer icons around the wheel');
        console.log('  â€¢ Click center core for Mirror LLM');
        console.log('  â€¢ Ask questions: "What\'s happening?" "Show emotions"');
        console.log('  â€¢ Switch profiles: Lite / Standard / Extended / Ultra');
        console.log('');
        console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
    }, 500);
    </script>
</body>
</html>
