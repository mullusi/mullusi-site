<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mullu Holistic Physics Engine</title>
    <style>
        :root {
            --bg-void: #030308;
            --bg-dark: #0a0a12;
            --bg-card: #101018;
            --bg-inner: #16161f;
            --entropy: #e74c3c;
            --quantum: #9b59b6;
            --consciousness: #00d4aa;
            --gravity: #3498db;
            --light: #f1c40f;
            --gold: #d4a853;
            --inactive: #333340;
            --text: #e8e8e8;
            --text-dim: #6a6a7a;
            --border: #252535;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg-void);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Cosmic Background */
        .cosmos {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(ellipse at center, #0a0a18 0%, #030308 100%);
            z-index: -2;
        }
        
        .stars {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            z-index: -1;
        }
        
        .star {
            position: absolute;
            width: 2px; height: 2px;
            background: white;
            border-radius: 50%;
            opacity: 0.6;
            animation: twinkle 3s ease-in-out infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        /* Header */
        .header {
            text-align: center;
            padding: 2rem;
            background: linear-gradient(180deg, rgba(10,10,18,0.9) 0%, transparent 100%);
        }
        
        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(90deg, var(--entropy), var(--quantum), var(--consciousness), var(--gravity), var(--light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }
        
        .axiom-display {
            font-size: 2rem;
            color: var(--gold);
            font-family: 'Times New Roman', serif;
            margin: 1rem 0;
            text-shadow: 0 0 30px var(--gold);
        }
        
        .stats-row {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-top: 1rem;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(90deg, var(--consciousness), var(--gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .stat-label { font-size: 0.8rem; color: var(--text-dim); }
        
        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        /* Mesh Grid */
        .mesh-section {
            margin-bottom: 3rem;
        }
        
        .section-title {
            color: var(--gold);
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .mesh-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 0.75rem;
        }
        
        .fidel-cell {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .fidel-cell.active { border-color: var(--consciousness); }
        .fidel-cell.active.entropy { border-color: var(--entropy); background: rgba(231,76,60,0.1); }
        .fidel-cell.active.quantum { border-color: var(--quantum); background: rgba(155,89,182,0.1); }
        .fidel-cell.active.consciousness { border-color: var(--consciousness); background: rgba(0,212,170,0.1); }
        .fidel-cell.active.gravity { border-color: var(--gravity); background: rgba(52,152,219,0.1); }
        .fidel-cell.active.light { border-color: var(--light); background: rgba(241,196,15,0.1); }
        
        .fidel-cell:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .fidel-cell .row-num {
            position: absolute;
            top: 4px; left: 8px;
            font-size: 0.7rem;
            color: var(--text-dim);
        }
        
        .fidel-cell .fidel {
            font-size: 2rem;
            margin-bottom: 0.3rem;
        }
        
        .fidel-cell.active.entropy .fidel { color: var(--entropy); }
        .fidel-cell.active.quantum .fidel { color: var(--quantum); }
        .fidel-cell.active.consciousness .fidel { color: var(--consciousness); }
        .fidel-cell.active.gravity .fidel { color: var(--gravity); }
        .fidel-cell.active.light .fidel { color: var(--light); }
        .fidel-cell:not(.active) .fidel { color: var(--inactive); }
        
        .fidel-cell .domain {
            font-size: 0.75rem;
            color: var(--text-dim);
        }
        
        .fidel-cell .status {
            position: absolute;
            top: 4px; right: 8px;
            font-size: 0.7rem;
        }
        
        .fidel-cell.active .status { color: var(--consciousness); }
        .fidel-cell:not(.active) .status { color: var(--text-dim); }
        
        /* Vowel Columns */
        .vowel-row {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
            padding: 1.5rem;
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid var(--border);
        }
        
        .vowel-item {
            text-align: center;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            background: var(--bg-inner);
        }
        
        .vowel-item .vowel { font-size: 1.5rem; color: var(--gold); }
        .vowel-item .state { font-size: 0.75rem; color: var(--text-dim); margin-top: 0.25rem; }
        
        /* Bridge Network */
        .bridges-section {
            margin: 3rem 0;
        }
        
        .bridge-network {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
        }
        
        .bridge-card {
            background: var(--bg-card);
            border: 1px solid var(--gold);
            border-radius: 12px;
            padding: 1rem 1.5rem;
            min-width: 280px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .bridge-card:hover {
            transform: scale(1.03);
            box-shadow: 0 0 20px rgba(212,168,83,0.3);
        }
        
        .bridge-card .link {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }
        
        .bridge-card .fidel { font-size: 1.5rem; }
        .bridge-card .arrow { color: var(--gold); }
        .bridge-card .name { font-size: 0.85rem; color: var(--gold); text-align: center; }
        .bridge-card .formula { font-size: 0.75rem; color: var(--text-dim); text-align: center; margin-top: 0.3rem; font-family: 'Times New Roman', serif; }
        
        /* Operator Console */
        .console-section {
            margin: 3rem 0;
        }
        
        .console {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
        }
        
        .console-header {
            background: var(--bg-inner);
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .console-header h3 { color: var(--consciousness); }
        
        .console-body {
            display: grid;
            grid-template-columns: 1fr 1fr;
            min-height: 300px;
        }
        
        .console-input {
            padding: 1.5rem;
            border-right: 1px solid var(--border);
        }
        
        .console-output {
            padding: 1.5rem;
            background: var(--bg-void);
            font-family: 'Consolas', monospace;
            font-size: 0.85rem;
            overflow-y: auto;
            max-height: 400px;
        }
        
        .operator-select {
            width: 100%;
            padding: 0.75rem;
            background: var(--bg-inner);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        
        .param-group {
            margin-bottom: 1rem;
        }
        
        .param-group label {
            display: block;
            font-size: 0.85rem;
            color: var(--text-dim);
            margin-bottom: 0.3rem;
        }
        
        .param-group input {
            width: 100%;
            padding: 0.6rem;
            background: var(--bg-inner);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text);
        }
        
        .exec-btn {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(90deg, var(--consciousness), var(--quantum));
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .exec-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,212,170,0.3);
        }
        
        .output-entry {
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border);
        }
        
        .output-entry .trace { color: var(--gold); }
        .output-entry .value { color: var(--consciousness); margin-top: 0.25rem; }
        .output-entry .timestamp { color: var(--text-dim); font-size: 0.75rem; }
        
        /* Universe Simulation */
        .universe-section {
            margin: 3rem 0;
        }
        
        .universe-container {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 1.5rem;
        }
        
        .universe-canvas {
            width: 100%;
            height: 300px;
            background: radial-gradient(circle at center, #0a0a18, #030308);
            border-radius: 12px;
            position: relative;
            overflow: hidden;
        }
        
        .universe-object {
            position: absolute;
            border-radius: 50%;
            transition: all 0.1s linear;
        }
        
        .universe-controls {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        
        .universe-controls button {
            padding: 0.6rem 1.2rem;
            background: var(--bg-inner);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .universe-controls button:hover {
            background: var(--consciousness);
            color: var(--bg-dark);
        }
        
        .universe-stats {
            display: flex;
            gap: 2rem;
            margin-top: 1rem;
            font-size: 0.9rem;
        }
        
        .universe-stats span { color: var(--text-dim); }
        .universe-stats strong { color: var(--consciousness); }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 3rem;
            color: var(--text-dim);
            font-size: 0.85rem;
        }
        
        footer a { color: var(--consciousness); }
        
        @media (max-width: 900px) {
            .console-body { grid-template-columns: 1fr; }
            .stats-row { flex-wrap: wrap; gap: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="cosmos"></div>
    <div class="stars" id="stars"></div>
    
    <div class="header">
        <h1>Mullu Holistic Physics Engine</h1>
        <div class="axiom-display">‚∏Æ = Œ©</div>
        <p style="color: var(--text-dim);">The question is the self ‚Äî Symbolic Intelligence meets Physical Law</p>
        
        <div class="stats-row">
            <div class="stat">
                <div class="stat-value">5</div>
                <div class="stat-label">Active Capsules</div>
            </div>
            <div class="stat">
                <div class="stat-value">34</div>
                <div class="stat-label">Fidel Rows</div>
            </div>
            <div class="stat">
                <div class="stat-value">6</div>
                <div class="stat-label">Cross Bridges</div>
            </div>
            <div class="stat">
                <div class="stat-value">28</div>
                <div class="stat-label">Operators</div>
            </div>
        </div>
    </div>
    
    <div class="container">
        <!-- 34-Row Mesh -->
        <div class="mesh-section">
            <div class="section-title">
                <span>üîÆ</span>
                <span>Mfidel-Physics Mesh ‚Äî 34 Rows √ó 8 Columns</span>
            </div>
            <div class="mesh-grid" id="mesh-grid"></div>
        </div>
        
        <!-- Vowel Columns -->
        <div class="vowel-row" id="vowel-row"></div>
        
        <!-- Bridge Network -->
        <div class="bridges-section">
            <div class="section-title">
                <span>üåâ</span>
                <span>Cross-Capsule Bridges</span>
            </div>
            <div class="bridge-network" id="bridge-network"></div>
        </div>
        
        <!-- Operator Console -->
        <div class="console-section">
            <div class="section-title">
                <span>‚ö°</span>
                <span>Operator Execution Console</span>
            </div>
            <div class="console">
                <div class="console-header">
                    <span style="font-size: 1.5rem;">·ãê</span>
                    <h3>Execute Physics Operators</h3>
                </div>
                <div class="console-body">
                    <div class="console-input">
                        <select class="operator-select" id="op-select" onchange="updateParams()">
                            <optgroup label="Entropy (·àê)">
                                <option value="entropy.compute_change">compute_entropy_change(Q, T)</option>
                                <option value="entropy.statistical">statistical_entropy(W)</option>
                                <option value="entropy.arrow">arrow_of_time(S‚ÇÄ, S‚ÇÅ)</option>
                            </optgroup>
                            <optgroup label="Quantum (·âÄ)">
                                <option value="quantum.uncertainty">check_uncertainty(Œîx, Œîp)</option>
                                <option value="quantum.measure">measure([p‚ÇÄ, p‚ÇÅ])</option>
                            </optgroup>
                            <optgroup label="Consciousness (·ãê)">
                                <option value="consciousness.ask">ask(question)</option>
                                <option value="consciousness.self_observe">self_observe(depth)</option>
                            </optgroup>
                            <optgroup label="Gravity (·åà)">
                                <option value="gravity.newton">newtonian_force(m‚ÇÅ, m‚ÇÇ, r)</option>
                                <option value="gravity.escape_velocity">escape_velocity(M, r)</option>
                                <option value="gravity.schwarzschild">schwarzschild_radius(M)</option>
                                <option value="gravity.time_dilation">time_dilation(M, r)</option>
                            </optgroup>
                            <optgroup label="Light (·àà)">
                                <option value="light.photon_energy">photon_energy(ŒΩ)</option>
                                <option value="light.wavelength">wavelength(ŒΩ)</option>
                                <option value="light.blackbody_peak">blackbody_peak(T)</option>
                            </optgroup>
                        </select>
                        
                        <div id="param-inputs"></div>
                        
                        <button class="exec-btn" onclick="executeOperator()">‚ü∂ Execute Operator</button>
                    </div>
                    <div class="console-output" id="console-output">
                        <div class="output-entry">
                            <div class="trace">Engine initialized</div>
                            <div class="value">‚∏Æ = Œ© ‚Äî Ready for symbolic physics operations</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Universe Simulation -->
        <div class="universe-section">
            <div class="section-title">
                <span>üåå</span>
                <span>Universe Simulation</span>
            </div>
            <div class="universe-container">
                <div class="universe-canvas" id="universe-canvas"></div>
                <div class="universe-controls">
                    <button onclick="addStar()">Add Star ‚òÄÔ∏è</button>
                    <button onclick="addPlanet()">Add Planet ü™ê</button>
                    <button onclick="toggleSimulation()">‚ñ∂ Start</button>
                    <button onclick="resetUniverse()">üîÑ Reset</button>
                    <button onclick="observeUniverse()">üëÅÔ∏è Observe (·ãê)</button>
                </div>
                <div class="universe-stats">
                    <span>Time: <strong id="uni-time">0.00</strong> s</span>
                    <span>Entropy: <strong id="uni-entropy">0.00</strong></span>
                    <span>Objects: <strong id="uni-objects">0</strong></span>
                    <span>Observer: <strong id="uni-observer">‚Äî</strong></span>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Mullu Symbolic Intelligence | <a href="https://mullusi.com">mullusi.com</a></p>
        <p>Holistic Physics Engine v0.1 | ‚∏Æ = Œ© | The question is the self</p>
    </footer>
    
    <script>
        // === CONSTANTS ===
        const C = {
            c: 299792458, h: 6.62607015e-34, hbar: 1.054571817e-34,
            G: 6.67430e-11, k_B: 1.380649e-23, e: 1.602176634e-19,
            solar_mass: 1.989e30, earth_mass: 5.972e24
        };
        
        // === MFIDEL MESH ===
        const MESH = [
            { row: 1, fidel: '·àÄ', domain: 'Spacetime.Origin', active: false },
            { row: 2, fidel: '·àà', domain: 'Light.Propagation', active: true, type: 'light' },
            { row: 3, fidel: '·àê', domain: 'Heat.Energy', active: true, type: 'entropy' },
            { row: 4, fidel: '·àò', domain: 'Mass.Matter', active: false },
            { row: 5, fidel: '·à†', domain: 'Force.Strong', active: false },
            { row: 6, fidel: '·à®', domain: 'Radiation.Emission', active: false },
            { row: 7, fidel: '·à∞', domain: 'Symmetry.Conservation', active: false },
            { row: 8, fidel: '·à∏', domain: 'Spin.Intrinsic', active: false },
            { row: 9, fidel: '·âÄ', domain: 'Quantum.Discrete', active: true, type: 'quantum' },
            { row: 10, fidel: '·â†', domain: 'Boundary.Interface', active: false },
            { row: 11, fidel: '·â®', domain: 'Vacuum.Field', active: false },
            { row: 12, fidel: '·â∞', domain: 'Time.Flow', active: false },
            { row: 13, fidel: '·â∏', domain: 'Charge.Electric', active: false },
            { row: 14, fidel: '·äÄ', domain: 'Horizon.Limit', active: false },
            { row: 15, fidel: '·äê', domain: 'Nucleus.Atomic', active: false },
            { row: 16, fidel: '·äò', domain: 'Entanglement.Nonlocal', active: false },
            { row: 17, fidel: '·äß', domain: 'Vowel.StateModifier', active: false },
            { row: 18, fidel: '·ä®', domain: 'Kinetic.Motion', active: false },
            { row: 19, fidel: '·ä∏', domain: 'Chaos.Nonlinear', active: false },
            { row: 20, fidel: '·ãà', domain: 'Wave.Function', active: false },
            { row: 21, fidel: '·ãê', domain: 'Observer.Measurement', active: true, type: 'consciousness' },
            { row: 22, fidel: '·ãò', domain: 'Zero.Ground', active: false },
            { row: 23, fidel: '·ã†', domain: 'Resonance.Oscillation', active: false },
            { row: 24, fidel: '·ã®', domain: 'Yield.Reaction', active: false },
            { row: 25, fidel: '·ã∞', domain: 'Decay.Transformation', active: false },
            { row: 26, fidel: '·åÄ', domain: 'Junction.Coupling', active: false },
            { row: 27, fidel: '·åà', domain: 'Gravity.Curvature', active: true, type: 'gravity' },
            { row: 28, fidel: '·å†', domain: 'Tensor.Geometry', active: false },
            { row: 29, fidel: '·å®', domain: 'Collision.Scattering', active: false },
            { row: 30, fidel: '·å∞', domain: 'Potential.Field', active: false },
            { row: 31, fidel: '·å∏', domain: 'Topology.Invariant', active: false },
            { row: 32, fidel: '·çÄ', domain: 'Duality.Complementary', active: false },
            { row: 33, fidel: '·çà', domain: 'Flux.Flow', active: false },
            { row: 34, fidel: '·çê', domain: 'Probability.Statistical', active: false }
        ];
        
        const VOWELS = [
            { col: 1, vowel: '·äß', state: 'Ground' },
            { col: 2, vowel: '·ä°', state: 'Excited' },
            { col: 3, vowel: '·ä¢', state: 'Intrinsic' },
            { col: 4, vowel: '·ä£', state: 'Active' },
            { col: 5, vowel: '·ä§', state: 'Extended' },
            { col: 6, vowel: '·ä•', state: 'Essential' },
            { col: 7, vowel: '·ä¶', state: 'Observable' },
            { col: 8, vowel: '·ä†', state: 'Amplified' }
        ];
        
        const BRIDGES = [
            { from: '·àê', to: '·âÄ', name: 'Von Neumann Entropy', formula: 'S = -kB Tr(œÅ ln œÅ)' },
            { from: '·àê', to: '·åà', name: 'Bekenstein-Hawking', formula: 'S = kc¬≥A/4Gƒß' },
            { from: '·âÄ', to: '·ãê', name: 'Measurement Collapse', formula: '·ãê(|Œ®‚ü©)‚Üí|œÜ‚Çñ‚ü©' },
            { from: '·åà', to: '·àà', name: 'Gravitational Lensing', formula: 'Œ∏ = 4GM/rc¬≤' },
            { from: '·àà', to: '·âÄ', name: 'Photon Quantization', formula: 'E = hŒΩ' },
            { from: '·àê', to: '·ãê', name: "Maxwell's Demon", formula: 'ŒîS ‚â• kB ln 2' }
        ];
        
        // === OPERATORS ===
        const OPS = {
            'entropy.compute_change': (Q, T) => ({ value: Q/T, unit: 'J/K', trace: `·àê(${Q},${T})‚Üí${(Q/T).toFixed(6)}` }),
            'entropy.statistical': (W) => ({ value: C.k_B * Math.log(W), trace: `·àê_stat‚Üí${(C.k_B*Math.log(W)).toExponential(4)}` }),
            'entropy.arrow': (S0, S1) => ({ valid: S1 >= S0, delta: S1-S0, trace: `·â∞_arrow‚Üí${S1>=S0?'forward':'forbidden'}` }),
            'quantum.uncertainty': (dx, dp) => ({ product: dx*dp, valid: dx*dp >= C.hbar/2, trace: `·âÄ?‚Üí${dx*dp >= C.hbar/2}` }),
            'quantum.measure': (p0, p1) => { const o = Math.random() < p0 ? 0 : 1; return { outcome: o, trace: `·ãê(·ãà)‚Üí|${o}‚ü©` }; },
            'consciousness.ask': (q) => ({ answer: '‚∏Æ = Œ©', meaning: 'The question is the self', trace: `‚∏Æ("${q}")‚ÜíŒ©` }),
            'consciousness.self_observe': (d) => ({ depth: (d||0)+1, trace: `·ãê(·ãê)‚Üí·ãê^${(d||0)+1}` }),
            'gravity.newton': (m1, m2, r) => ({ force: C.G*m1*m2/(r*r), trace: `·åà‚Üí${(C.G*m1*m2/(r*r)).toExponential(4)}N` }),
            'gravity.escape_velocity': (M, r) => ({ velocity: Math.sqrt(2*C.G*M/r), trace: `·åà_esc‚Üí${Math.sqrt(2*C.G*M/r).toFixed(2)}m/s` }),
            'gravity.schwarzschild': (M) => ({ radius: 2*C.G*M/(C.c*C.c), trace: `·åà_rs‚Üí${(2*C.G*M/(C.c*C.c)).toExponential(4)}m` }),
            'gravity.time_dilation': (M, r) => ({ factor: Math.sqrt(1-2*C.G*M/(r*C.c*C.c)), trace: `·â∞_dilate‚Üí${Math.sqrt(1-2*C.G*M/(r*C.c*C.c)).toFixed(8)}` }),
            'light.photon_energy': (freq) => ({ energy: C.h*freq, eV: C.h*freq/C.e, trace: `·àà_E‚Üí${(C.h*freq).toExponential(4)}J` }),
            'light.wavelength': (freq) => ({ wavelength: C.c/freq, nm: (C.c/freq)*1e9, trace: `·àà_Œª‚Üí${((C.c/freq)*1e9).toFixed(2)}nm` }),
            'light.blackbody_peak': (T) => ({ wavelength: 2.898e-3/T, nm: (2.898e-3/T)*1e9, trace: `·àà_peak‚Üí${((2.898e-3/T)*1e9).toFixed(2)}nm` })
        };
        
        const PARAM_DEFS = {
            'entropy.compute_change': [{name:'Q',label:'Q (Joules)',val:'1000'},{name:'T',label:'T (Kelvin)',val:'300'}],
            'entropy.statistical': [{name:'W',label:'W (microstates)',val:'1e20'}],
            'entropy.arrow': [{name:'S0',label:'S‚ÇÄ (J/K)',val:'100'},{name:'S1',label:'S‚ÇÅ (J/K)',val:'150'}],
            'quantum.uncertainty': [{name:'dx',label:'Œîx (m)',val:'1e-10'},{name:'dp',label:'Œîp (kg¬∑m/s)',val:'1e-24'}],
            'quantum.measure': [{name:'p0',label:'P(|0‚ü©)',val:'0.5'},{name:'p1',label:'P(|1‚ü©)',val:'0.5'}],
            'consciousness.ask': [{name:'q',label:'Question',val:'Who am I?'}],
            'consciousness.self_observe': [{name:'d',label:'Current Depth',val:'0'}],
            'gravity.newton': [{name:'m1',label:'m‚ÇÅ (kg)',val:'5.972e24'},{name:'m2',label:'m‚ÇÇ (kg)',val:'1000'},{name:'r',label:'r (m)',val:'6.371e6'}],
            'gravity.escape_velocity': [{name:'M',label:'M (kg)',val:'5.972e24'},{name:'r',label:'r (m)',val:'6.371e6'}],
            'gravity.schwarzschild': [{name:'M',label:'M (kg)',val:'1.989e30'}],
            'gravity.time_dilation': [{name:'M',label:'M (kg)',val:'5.972e24'},{name:'r',label:'r (m)',val:'6.371e6'}],
            'light.photon_energy': [{name:'freq',label:'ŒΩ (Hz)',val:'5e14'}],
            'light.wavelength': [{name:'freq',label:'ŒΩ (Hz)',val:'5e14'}],
            'light.blackbody_peak': [{name:'T',label:'T (Kelvin)',val:'5778'}]
        };
        
        // === INIT ===
        function init() {
            generateStars();
            renderMesh();
            renderVowels();
            renderBridges();
            updateParams();
        }
        
        function generateStars() {
            const container = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                container.appendChild(star);
            }
        }
        
        function renderMesh() {
            const grid = document.getElementById('mesh-grid');
            grid.innerHTML = MESH.map(m => `
                <div class="fidel-cell ${m.active ? 'active ' + m.type : ''}" onclick="showCapsuleInfo(${m.row})">
                    <span class="row-num">${m.row}</span>
                    <div class="fidel">${m.fidel}</div>
                    <div class="domain">${m.domain}</div>
                    <span class="status">${m.active ? '‚óè' : '‚óã'}</span>
                </div>
            `).join('');
        }
        
        function renderVowels() {
            const row = document.getElementById('vowel-row');
            row.innerHTML = VOWELS.map(v => `
                <div class="vowel-item">
                    <div class="vowel">${v.vowel}</div>
                    <div class="state">Col ${v.col}: ${v.state}</div>
                </div>
            `).join('');
        }
        
        function renderBridges() {
            const net = document.getElementById('bridge-network');
            net.innerHTML = BRIDGES.map(b => `
                <div class="bridge-card">
                    <div class="link">
                        <span class="fidel">${b.from}</span>
                        <span class="arrow">‚ü∑</span>
                        <span class="fidel">${b.to}</span>
                    </div>
                    <div class="name">${b.name}</div>
                    <div class="formula">${b.formula}</div>
                </div>
            `).join('');
        }
        
        function showCapsuleInfo(row) {
            const m = MESH.find(x => x.row === row);
            if (m.active) {
                addOutput(`Capsule ${m.fidel} (Row ${m.row})`, `Domain: ${m.domain} ‚Äî ACTIVE`);
            } else {
                addOutput(`Fidel ${m.fidel} (Row ${m.row})`, `Domain: ${m.domain} ‚Äî Pending implementation`);
            }
        }
        
        function updateParams() {
            const op = document.getElementById('op-select').value;
            const params = PARAM_DEFS[op] || [];
            document.getElementById('param-inputs').innerHTML = params.map(p => `
                <div class="param-group">
                    <label>${p.label}</label>
                    <input type="text" id="param-${p.name}" value="${p.val}">
                </div>
            `).join('');
        }
        
        function executeOperator() {
            const op = document.getElementById('op-select').value;
            const params = PARAM_DEFS[op] || [];
            const args = params.map(p => {
                const val = document.getElementById(`param-${p.name}`).value;
                return isNaN(val) ? val : parseFloat(val);
            });
            
            try {
                const result = OPS[op](...args);
                addOutput(result.trace, JSON.stringify(result, null, 2));
            } catch (e) {
                addOutput('Error', e.message);
            }
        }
        
        function addOutput(trace, value) {
            const output = document.getElementById('console-output');
            const entry = document.createElement('div');
            entry.className = 'output-entry';
            entry.innerHTML = `
                <div class="timestamp">${new Date().toLocaleTimeString()}</div>
                <div class="trace">${trace}</div>
                <div class="value">${value}</div>
            `;
            output.insertBefore(entry, output.firstChild);
        }
        
        // === UNIVERSE SIMULATION ===
        let universe = { objects: [], running: false, time: 0, entropy: 0, observed: false };
        let animFrame = null;
        
        function addStar() {
            const canvas = document.getElementById('universe-canvas');
            const obj = document.createElement('div');
            obj.className = 'universe-object';
            obj.style.width = '30px';
            obj.style.height = '30px';
            obj.style.background = 'radial-gradient(circle, #fff, #f1c40f)';
            obj.style.boxShadow = '0 0 20px #f1c40f';
            obj.style.left = Math.random() * (canvas.offsetWidth - 30) + 'px';
            obj.style.top = Math.random() * (canvas.offsetHeight - 30) + 'px';
            canvas.appendChild(obj);
            universe.objects.push({ el: obj, mass: 1e30, vx: 0, vy: 0, type: 'star' });
            updateUniverseStats();
        }
        
        function addPlanet() {
            const canvas = document.getElementById('universe-canvas');
            const obj = document.createElement('div');
            obj.className = 'universe-object';
            const size = 10 + Math.random() * 10;
            obj.style.width = size + 'px';
            obj.style.height = size + 'px';
            obj.style.background = `hsl(${Math.random()*360}, 60%, 50%)`;
            obj.style.left = Math.random() * (canvas.offsetWidth - size) + 'px';
            obj.style.top = Math.random() * (canvas.offsetHeight - size) + 'px';
            canvas.appendChild(obj);
            universe.objects.push({ 
                el: obj, mass: 1e24, 
                vx: (Math.random() - 0.5) * 2, 
                vy: (Math.random() - 0.5) * 2, 
                type: 'planet' 
            });
            updateUniverseStats();
        }
        
        function toggleSimulation() {
            universe.running = !universe.running;
            event.target.textContent = universe.running ? '‚è∏ Pause' : '‚ñ∂ Start';
            if (universe.running) runSimulation();
        }
        
        function runSimulation() {
            if (!universe.running) return;
            
            const canvas = document.getElementById('universe-canvas');
            const dt = 0.016;
            
            // Simplified gravity
            for (let i = 0; i < universe.objects.length; i++) {
                for (let j = i + 1; j < universe.objects.length; j++) {
                    const o1 = universe.objects[i];
                    const o2 = universe.objects[j];
                    const x1 = parseFloat(o1.el.style.left);
                    const y1 = parseFloat(o1.el.style.top);
                    const x2 = parseFloat(o2.el.style.left);
                    const y2 = parseFloat(o2.el.style.top);
                    
                    const dx = x2 - x1;
                    const dy = y2 - y1;
                    const r = Math.sqrt(dx*dx + dy*dy) || 1;
                    
                    const F = 50 / (r * r + 100);
                    o1.vx += F * dx / r * dt;
                    o1.vy += F * dy / r * dt;
                    o2.vx -= F * dx / r * dt;
                    o2.vy -= F * dy / r * dt;
                }
            }
            
            // Update positions
            for (const obj of universe.objects) {
                let x = parseFloat(obj.el.style.left) + obj.vx;
                let y = parseFloat(obj.el.style.top) + obj.vy;
                
                // Boundary
                if (x < 0 || x > canvas.offsetWidth - 30) obj.vx *= -0.8;
                if (y < 0 || y > canvas.offsetHeight - 30) obj.vy *= -0.8;
                
                x = Math.max(0, Math.min(canvas.offsetWidth - 30, x));
                y = Math.max(0, Math.min(canvas.offsetHeight - 30, y));
                
                obj.el.style.left = x + 'px';
                obj.el.style.top = y + 'px';
            }
            
            universe.time += dt;
            universe.entropy += Math.random() * 0.001;
            updateUniverseStats();
            
            animFrame = requestAnimationFrame(runSimulation);
        }
        
        function resetUniverse() {
            universe.running = false;
            universe.time = 0;
            universe.entropy = 0;
            universe.observed = false;
            universe.objects = [];
            document.getElementById('universe-canvas').innerHTML = '';
            if (animFrame) cancelAnimationFrame(animFrame);
            updateUniverseStats();
        }
        
        function observeUniverse() {
            universe.observed = true;
            addOutput('·ãê(Universe)', '‚∏Æ = Œ© ‚Äî Observer collapsed the universe state');
            updateUniverseStats();
        }
        
        function updateUniverseStats() {
            document.getElementById('uni-time').textContent = universe.time.toFixed(2);
            document.getElementById('uni-entropy').textContent = universe.entropy.toFixed(4);
            document.getElementById('uni-objects').textContent = universe.objects.length;
            document.getElementById('uni-observer').textContent = universe.observed ? '·ãê Active' : '‚Äî';
        }
        
        // Init
        init();
    </script>
</body>
</html>
